{"version":3,"sources":["webpack:///./src/components/home/furnishing/furnishing.vue","webpack:///./src/components/home/furnishing/furnishing.vue?b16e","webpack:///./src/components/home/furnishing/furnishing.vue?cc1f"],"names":["furnishing","data","pullUp","loading","components","Scroll","scroll_scroll","Loading","NoResult","no_result","mixins","mixin","created","this","setShopList","furnishList","searchMore","_this","$nextTick","$refs","scroll","refresh","computed","extends_default","Object","vuex_esm","methods","search","callback","_this2","shopList","page","then","ops","code","config","result","concat","content","hasMore","last","call","selectItem","item","obj","array","image","spliceImgUrl","sowingMap","price","setCurrentShop","$router","push","id","imgUrl","url","handleShopBar","_this3","bottom","length","shopBarHeight","style","furnishing_furnishing","render","_vm","_h","$createElement","_c","_self","ref","staticClass","directives","name","rawName","value","expression","attrs","screen","_v","title","on","scrollToEnd","_l","click","$event","logo","domProps","textContent","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"iOAsCAA,GACEC,KADa,WAEX,OACEC,QAAQ,EACRC,SAAS,IAGbC,YACEC,OAAAC,EAAA,EACAC,QAAAJ,EAAA,EACAK,SAAAC,EAAA,GAEFC,QAASC,EAAA,EAAcA,EAAA,EAAgBA,EAAA,GACvCC,QAba,WAcXC,KAAKC,YAAYD,KAAKE,aACtBF,KAAKG,WAAW,WAAY,IAAAC,EAAAJ,KAC1BA,KAAKV,SAAU,EACfU,KAAKK,UAAU,WACbD,EAAKE,MAAMC,OAAOC,eAIxBC,SAAAC,OACKC,OAAAC,EAAA,EAAAD,EACD,cACA,mBAGJE,QAAAH,KACEI,OADF,SACSC,GAAS,IAAAC,EAAAhB,KACdW,OAAAM,EAAA,EAAAN,CAAmBX,KAAKkB,KAvCnB,IAuC+BC,KAAK,SAACC,GACpCA,EAAIC,OAASC,EAAA,IACfN,EAAKO,OAASP,EAAKO,OAAOC,OAAOJ,EAAIhC,KAAKqC,SAC1CT,EAAKU,SAAUN,EAAIhC,KAAKuC,KACJ,mBAAbZ,GAA2BA,EAASa,KAATZ,OAIxCa,WAVF,SAUaC,GACT,IAAIC,EAAIpB,OAAAqB,EAAA,EAAArB,CAAQmB,GAChBC,EAAIE,MAAQjC,KAAKkC,aAAaH,EAAIE,OAClCF,EAAII,UAAUnC,KAAKkC,aAAaH,EAAII,WACpCJ,EAAIK,MAAML,EAAIK,MAAM,IACpBpC,KAAKqC,eAAeN,GACpB/B,KAAKsC,QAAQC,KAAb,8BAAgDR,EAAIS,KAEtDC,OAlBF,SAkBSC,GACL,OAAc,MAAPA,EAAiBpB,EAAA,EAAjB,mBAA2CoB,EAAQ,IAE5DN,MArBF,SAqBQA,GACJ,WAAYA,EAAQ,KAEtBO,cAxBF,SAwBgB1B,GAAS,IAAA2B,EAAA5C,KACrBA,KAAKK,UAAU,WACb,IAAIwC,EAAS5B,EAAS6B,OAAS,EAAOF,EAAKG,cAA9B,KAAkD,GAC/DH,EAAKtC,MAAMnB,WAAW6D,MAAMH,OAASA,EACrCD,EAAKtC,MAAMC,OAAOC,cAGnBG,OAAAC,EAAA,EAAAD,EACDV,YAAa,gBACboC,eAAgB,uBChGtBY,GADiBC,OAFjB,WAA0B,IAAAC,EAAAnD,KAAaoD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,IAAA,aAAAC,YAAA,eAA0CH,EAAA,WAAgBI,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAAV,EAAA,QAAAW,WAAA,YAAsEC,OAASC,QAAA,KAAeb,EAAAc,GAAA,KAAAX,EAAA,OAAwBI,aAAaC,KAAA,OAAAC,QAAA,SAAAC,OAAAV,EAAA7D,QAAAwE,WAAA,aAAwEL,YAAA,sBAAkCH,EAAA,aAAkBI,aAAaC,KAAA,OAAAC,QAAA,SAAAC,OAAAV,EAAA5B,OAAAuB,OAAA,EAAAgB,WAAA,qBAAwFL,YAAA,YAAAM,OAAiCG,MAAA,kBAAwBf,EAAAc,GAAA,KAAAX,EAAA,UAA2BE,IAAA,SAAAO,OAAoB3E,KAAA+D,EAAA5B,OAAAlC,OAAA8D,EAAA9D,QAAsC8E,IAAKC,YAAAjB,EAAAhD,cAA8BmD,EAAA,MAAWG,YAAA,SAAmBN,EAAAkB,GAAAlB,EAAA,gBAAArB,GAAqC,OAAAwB,EAAA,MAAgBG,YAAA,OAAAU,IAAuBG,MAAA,SAAAC,GAAyBpB,EAAAtB,WAAAC,OAAuBwB,EAAA,OAAYI,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAAV,EAAAV,OAAAX,EAAA0C,MAAAV,WAAA,sBAA0FL,YAAA,QAAoBN,EAAAc,GAAA,KAAAX,EAAA,QAAyBG,YAAA,OAAAgB,UAA6BC,YAAAvB,EAAAwB,GAAA7C,EAAA6B,SAAiCR,EAAAc,GAAA,KAAAX,EAAA,QAAyBG,YAAA,QAAAgB,UAA8BC,YAAAvB,EAAAwB,GAAAxB,EAAAf,MAAAN,EAAAM,eAAiDe,EAAAc,GAAA,KAAAX,EAAA,WAA4BI,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAAV,EAAA,QAAAW,WAAA,YAAsEC,OAASG,MAAA,OAAY,SAAAf,EAAAc,GAAA,KAAAX,EAAA,oBAEzxCsB,oBCCjB,IAaAC,EAbAC,EAAA,OAaAC,CACA5F,EACA8D,GATA,EATA,SAAA+B,GACAF,EAAA,SAYA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/26.e7743f9193f2982f8d7e.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nlet size = 10;\nimport {mapGetters, mapMutations} from 'vuex';\nimport NoResult from 'base/no-result/no-result'\nimport Scroll from 'base/scroll/scroll';\nimport Loading from 'base/loading/loading';\nimport {copyObj} from 'common/js/array';\nimport {shopBarMixin,searchMoreMixin,imgUrlMixin} from 'common/js/mixin';\nimport {findFurnishingList} from 'api/shopList';\nimport {ERR_OK,baseURL} from 'api/config';\nexport default {\n  data(){\n    return {\n      pullUp: true,\n      loading: true\n    }\n  },\n  components: {\n    Scroll,\n    Loading,\n    NoResult\n  },\n  mixins: [shopBarMixin, searchMoreMixin,imgUrlMixin],\n  created(){\n    this.setShopList(this.furnishList);\n    this.searchMore(function () {\n      this.loading = false;\n      this.$nextTick(() => {\n        this.$refs.scroll.refresh();\n      })\n    });\n  },\n  computed: {\n    ...mapGetters([\n      'furnishList',\n      'shopBarHeight'\n    ])\n  },\n  methods: {\n    search(callback){\n      findFurnishingList(this.page, size).then((ops) => {\n        if (ops.code === ERR_OK) {\n          this.result = this.result.concat(ops.data.content);\n          this.hasMore = ops.data.last ? false : true;\n          typeof callback === 'function' && callback.call(this);\n        }\n      });\n    },\n    selectItem(item){\n      let obj=copyObj(item);\n      obj.image = this.spliceImgUrl(obj.image);\n      obj.sowingMap=this.spliceImgUrl(obj.sowingMap);\n      obj.price=obj.price/100;\n      this.setCurrentShop(obj);\n      this.$router.push(`/home/furnishing/commodity/${obj.id}`);\n    },\n    imgUrl(url){\n      return url != null ? `${baseURL}/rwlmall/images/${url}` : '';\n    },\n    price(price){\n      return `¥ ${price / 100}`\n    },\n    handleShopBar(shopList){\n      this.$nextTick(() => {\n        let bottom = shopList.length > 0 ? `${this.shopBarHeight}px` : '';\n        this.$refs.furnishing.style.bottom = bottom;\n        this.$refs.scroll.refresh();\n      });\n    },\n    ...mapMutations({\n      setShopList: 'SET_SHOP_LIST',\n      setCurrentShop: 'SET_CURRENT_SHOP'\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/home/furnishing/furnishing.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"furnishing\",staticClass:\"furnishing\"},[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"screen\":true}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}],staticClass:\"content-container\"},[_c('no-result',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.result.length>0),expression:\"!result.length>0\"}],staticClass:\"zh-center\",attrs:{\"title\":\"商品正在赶来的路上...\"}}),_vm._v(\" \"),_c('scroll',{ref:\"scroll\",attrs:{\"data\":_vm.result,\"pullUp\":_vm.pullUp},on:{\"scrollToEnd\":_vm.searchMore}},[_c('ul',{staticClass:\"list\"},[_vm._l((_vm.result),function(item){return _c('li',{staticClass:\"item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.imgUrl(item.logo)),expression:\"imgUrl(item.logo)\"}],staticClass:\"img\"}),_vm._v(\" \"),_c('span',{staticClass:\"name\",domProps:{\"textContent\":_vm._s(item.name)}}),_vm._v(\" \"),_c('span',{staticClass:\"price\",domProps:{\"textContent\":_vm._s(_vm.price(item.price))}})])}),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasMore),expression:\"hasMore\"}],attrs:{\"title\":\"\"}})],2)])],1),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-774c1346\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/home/furnishing/furnishing.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-774c1346\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./furnishing.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./furnishing.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-774c1346\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../node_modules/vux-loader/src/template-loader.js!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./furnishing.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-774c1346\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/home/furnishing/furnishing.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}