{"version":3,"sources":["webpack:///./src/components/recharge/index/index.vue","webpack:///./src/components/recharge/index/index.vue?6816","webpack:///./src/components/recharge/index/index.vue?7230"],"names":["index","data","balance","consumeList","load","isBalance","isConsumeList","components","Scroll","scroll_scroll","NoResult","no_result","activated","this","_getBalance","_getUserConsumeList","filters","numFormat","flag","toFixed","methods","timeFormat","time","Date","Number","getFullYear","getMonth","timeAddZero","getDate","getHours","getMinutes","_this","Object","user","then","ops","code","config","catch","_this2","money","number","category","toPay","$router","push","watch","$route","to","from","name","recharge_index","render","_vm","_h","$createElement","_c","_self","staticClass","on","touchmove","$event","preventDefault","directives","rawName","value","expression","attrs","screen","_v","_s","_f","click","length","_l","item","domProps","textContent","title","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.e8af4af7d482ab6dcf7d.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport NoResult from 'base/no-result/no-result';\nimport Scroll from 'base/scroll/scroll';\nimport {getUserInfo,getUserConsumeList} from 'api/user';\nimport {ERR_OK} from 'api/config';\nexport default {\n  data(){\n    return {\n      balance:'',\n      consumeList: [],\n      load: {\n        isBalance: false,\n        isConsumeList: false\n      }\n    }\n  },\n  components: {\n    Scroll,\n    NoResult\n  },\n  activated(){\n    this._getBalance();\n    this._getUserConsumeList();\n  },\n  filters: {\n    numFormat(flag){\n      return (flag / 100).toFixed(2)\n    }\n  },\n  methods: {\n    timeFormat(flag){\n      let time=new Date(Number(flag));\n      let year=time.getFullYear();\n      let month=time.getMonth()+1;\n      let date=this.timeAddZero(time.getDate());\n      let hour=this.timeAddZero(time.getHours());\n      let minute=this.timeAddZero(time.getMinutes());\n      return `${month}月${date}日 ${hour}:${minute}`\n    },\n     timeAddZero(flag){\n         return flag<10?'0'+flag:flag;\n     },\n    _getUserConsumeList(){\n      getUserConsumeList().then((ops) => {\n        if (ops.code === ERR_OK) {\n          this.consumeList = ops.data;\n          this.load.isConsumeList = true;\n        }\n      }).catch(() => {\n        this.load.isConsumeList = true;\n      })\n    },\n    _getBalance(){\n      getUserInfo().then((ops) => {\n        if (ops.code === ERR_OK) {\n          this.balance = ops.data.balance;\n          this.load.isBalance = true;\n        }\n      }).catch(() => {\n        this.load.isBalance = true;\n      });\n    },\n    money(number, category){\n      let symbol = category === '充值' ? '+' : '-';\n      return symbol + number / 100;\n    },\n    toPay(){\n      this.$router.push(`/recharge/${this.balance}`)\n    }\n  },\n  watch:{\n      '$route'(to,from){\n        if(from.name==='rechargePay'){  //当从地址添加页回来时，刷新页面\n          this._getBalance();\n          this._getUserConsumeList();\n        }\n      }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/recharge/index/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recharge\",on:{\"touchmove\":function($event){$event.preventDefault();}}},[_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.load.isBalance&&!_vm.load.isConsumeList),expression:\"!load.isBalance&&!load.isConsumeList\"}],attrs:{\"screen\":true}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.load.isBalance&&_vm.load.isConsumeList),expression:\"load.isBalance&&load.isConsumeList\"}],staticClass:\"wrapper\"},[_c('div',{staticClass:\"balance-container\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"当前余额（元）\")]),_vm._v(\" \"),_c('span',{staticClass:\"val\"},[_vm._v(_vm._s(_vm._f(\"numFormat\")(_vm.balance)))]),_vm._v(\" \"),_c('span',{staticClass:\"button\",on:{\"click\":_vm.toPay}},[_vm._v(\"我要充值\")])]),_vm._v(\" \"),_c('span',{staticClass:\"title\"},[_vm._v(\"交易记录\")]),_vm._v(\" \"),_c('div',{staticClass:\"scroll-container\"},[(_vm.consumeList.length>0)?_c('scroll',{attrs:{\"data\":_vm.consumeList}},[_c('ul',{staticClass:\"consume-list\"},_vm._l((_vm.consumeList),function(item){return _c('li',{staticClass:\"consume-item\"},[_c('div',{staticClass:\"info-box\"},[_c('span',{staticClass:\"name\",domProps:{\"textContent\":_vm._s(item.category)}}),_vm._v(\" \"),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.timeFormat(item.time)))])]),_vm._v(\" \"),_c('span',{staticClass:\"num\",domProps:{\"textContent\":_vm._s(_vm.money(item.money,item.category))}})])}))]):_c('no-result',{attrs:{\"title\":\"暂无交易记录\"}})],1)]),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-06748072\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/recharge/index/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-06748072\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-06748072\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../node_modules/vux-loader/src/template-loader.js!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-06748072\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/recharge/index/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}