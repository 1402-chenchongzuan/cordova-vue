{"version":3,"sources":["webpack:///./src/components/orders/orders-list/orders-list.vue","webpack:///./src/components/orders/orders-list/orders-list.vue?25f7","webpack:///./src/components/orders/orders-list/orders-list.vue?33b6"],"names":["orders_list","data","pullUp","components","Scroll","scroll_scroll","props","list","type","Array","default","hasMore","Boolean","mixins","mixin","methods","extends_default","payOrderClick","id","totalPrice","this","$router","push","name","query","params","cancelOrderClick","_this","$alert","then","_cancelOrder","judgeTypeUrl","$emit","finishOrderClick","_this2","_finishOrder","scrollTop","$refs","scroll","scrollTo","searchMore","judgeType","slice","config","laundry","mall","furniture","imgUrl","url","item","sum","items","forEach","obj","count","price","flag","standard","checkProgress","path","setSelectItem","Object","vuex_esm","orders_list_orders_list","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","on","scrollToEnd","_l","src","_v","domProps","textContent","_s","length","payStatus","status","click","$event","_e","directives","rawName","value","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"+KA6CAA,GACEC,KADa,WAEX,OACEC,QAAQ,IAGZC,YACEC,OAAAC,EAAA,GAEFC,OACEC,MACEC,KAAMC,MACNC,YAEFC,SACEH,KAAMI,QACNF,SAAS,IAGbG,QAAQC,EAAA,GACRC,QAAAC,KACEC,cADF,SACgBC,EAAGC,GACfC,KAAKC,QAAQC,MACXC,KAAM,kBACNC,OAAQL,cACRM,QAASP,SAGbQ,iBARF,SAQmBR,GAAG,IAAAS,EAAAP,KAClBA,KAAKQ,OAAO,aAAa,KAAK,OAAOC,KAAK,WACvCF,EAAKG,aAAaH,EAAKI,aAAab,GAAIA,GAAIW,KAAK,WAC/CF,EAAKK,MAAM,qBAIlBC,iBAfF,SAemBf,GAAG,IAAAgB,EAAAd,KAClBA,KAAKQ,OAAO,aAAa,KAAK,OAAOC,KAAK,WACxCK,EAAKC,aAAaD,EAAKH,aAAab,GAAIA,GAAIW,KAAK,WAC/CK,EAAKF,MAAM,qBAIjBI,UAtBF,WAuBIhB,KAAKiB,MAAMC,OAAOC,SAAS,EAAG,IAEhCC,WAzBF,WA0BIpB,KAAKY,MAAM,eAEbS,UA5BF,SA4BYvB,GAER,OADWA,EAAGwB,OAAO,IAEnB,KAAKC,EAAA,EAAOC,QACV,MAAO,iBAET,KAAKD,EAAA,EAAOE,KACV,MAAO,cAET,KAAKF,EAAA,EAAOG,UACV,MAAO,qBAIbC,OA1CF,SA0CSC,GACL,OAAc,MAAPA,EAAiBL,EAAA,EAAjB,mBAA2CK,EAAQ,IAE5D7B,WA7CF,SA6Ca8B,GACT,IAAIzC,EAAOY,KAAKqB,UAAUQ,EAAK/B,IAE3BgC,EAAM,EAIV,OALYD,EAAKE,MAEXC,QAAQ,SAACC,GACbH,GAAOG,EAAIC,MAAQD,EAAI7C,GAAM+C,QAExBL,EAAM,KAEfK,MAtDF,SAsDQC,GACJ,WAAYA,EAAO,KAErBC,SAzDF,SAyDWD,GACP,OAAOA,SAAcA,EAAS,IAEhCE,cA5DF,SA4DgBT,EAAM9B,GAClB,IAAIX,EAAOY,KAAKqB,UAAUQ,EAAK/B,IAC/BE,KAAKC,QAAQC,MAAMqC,KAAM,kBAAmBnC,OAAQL,aAAYX,UAChEY,KAAKwC,cAAcX,KAElBY,OAAAC,EAAA,EAAAD,EACDD,cAAe,sBChIrBG,GADiBC,OAFjB,WAA0B,IAAAC,EAAA7C,KAAa8C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,gBAA0BF,EAAA,UAAeG,IAAA,SAAAC,OAAoBvE,KAAAgE,EAAA1D,KAAAL,OAAA+D,EAAA/D,QAAoCuE,IAAKC,YAAAT,EAAAzB,cAA8B4B,EAAA,MAAAH,EAAAU,GAAAV,EAAA,cAAAhB,GAA4C,OAAAmB,EAAA,MAAgBE,YAAA,SAAmBL,EAAAU,GAAA1B,EAAA,eAAAI,GAAoC,OAAAe,EAAA,OAAiBE,YAAA,cAAwBF,EAAA,OAAYI,OAAOI,IAAA,MAAUX,EAAAY,GAAA,KAAAT,EAAA,OAAwBE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,oBAA8BF,EAAA,QAAaE,YAAA,OAAAQ,UAA6BC,YAAAd,EAAAe,GAAA3B,EAAAY,EAAAxB,UAAAQ,EAAA/B,KAAAK,SAAwD0C,EAAAY,GAAA,KAAAT,EAAA,QAAyBE,YAAA,QAAAQ,UAA8BC,YAAAd,EAAAe,GAAAf,EAAAV,MAAAF,EAAAY,EAAAxB,UAAAQ,EAAA/B,KAAAqC,aAAoEU,EAAAY,GAAA,KAAAT,EAAA,OAA0BE,YAAA,qBAA+BF,EAAA,QAAaE,YAAA,OAAAQ,UAA6BC,YAAAd,EAAAe,GAAAf,EAAAR,SAAAJ,EAAAY,EAAAxB,UAAAQ,EAAA/B,KAAAuC,cAA0EQ,EAAAY,GAAA,KAAAT,EAAA,QAAyBE,YAAA,WAAqBL,EAAAY,GAAA,IAAAZ,EAAAe,GAAA3B,EAAAC,kBAAwCW,EAAAY,GAAA,KAAAT,EAAA,KAAsBE,YAAA,cAAwBF,EAAA,QAAaE,YAAA,SAAmBL,EAAAY,GAAA,IAAAZ,EAAAe,GAAA/B,EAAAE,MAAA8B,QAAA,oBAAAb,EAAA,QAAsEE,YAAA,QAAkBL,EAAAY,GAAA,KAAAZ,EAAAe,GAAAf,EAAA9C,WAAA8B,SAAAgB,EAAAY,GAAA,KAAAT,EAAA,OAAsEE,YAAA,qBAA+B,IAAArB,EAAAiC,WAAA,IAAAjC,EAAAkC,OAAAf,EAAA,QAAmDE,YAAA,MAAAG,IAAsBW,MAAA,SAAAC,GAAyBpB,EAAAhD,cAAAgC,EAAA/B,GAAA+C,EAAA9C,WAAA8B,QAAkDgB,EAAAY,GAAA,QAAAZ,EAAAqB,KAAArB,EAAAY,GAAA,SAAA5B,EAAAkC,OAAAf,EAAA,QAAmEE,YAAA,SAAAG,IAAyBW,MAAA,SAAAC,GAAyBpB,EAAAvC,iBAAAuB,EAAA/B,QAAgC+C,EAAAY,GAAA,UAAAZ,EAAAqB,KAAArB,EAAAY,GAAA,KAAAT,EAAA,QAAmDE,YAAA,QAAAG,IAAwBW,MAAA,SAAAC,GAAyBpB,EAAAP,cAAAT,EAAAgB,EAAA9C,WAAA8B,QAA+CgB,EAAAY,GAAA,UAAAZ,EAAAY,GAAA,SAAA5B,EAAAkC,OAAAf,EAAA,QAA4DE,YAAA,SAAAG,IAAyBW,MAAA,SAAAC,GAAyBpB,EAAAhC,iBAAAgB,EAAA/B,QAAgC+C,EAAAY,GAAA,UAAAZ,EAAAqB,QAAA,KAAkCrB,EAAAY,GAAA,KAAAT,EAAA,WAA4BmB,aAAahE,KAAA,OAAAiE,QAAA,SAAAC,MAAAxB,EAAA,QAAAyB,WAAA,eAAwE,UAEt7DC,oBCCjB,IAaAC,EAbAC,EAAA,OAaAC,CACA9F,EACA+D,GATA,EATA,SAAAgC,GACAF,EAAA,SAYA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/17.9f297075b9226d025d1d.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mapMutations} from 'vuex';\nimport {baseURL} from 'api/config';\nimport Scroll from 'base/scroll/scroll';\nimport {finishOrderMixin} from 'common/js/mixin';\nimport {idType} from 'api/config';\nexport default {\n  data(){\n    return {\n      pullUp: true\n    }\n  },\n  components: {\n    Scroll\n  },\n  props: {\n    list: {\n      type: Array,\n      default: []\n    },\n    hasMore: {\n      type: Boolean,\n      default: false\n    }\n  },\n  mixins:[finishOrderMixin],\n  methods: {\n    payOrderClick(id,totalPrice){\n      this.$router.push({\n        name: 'orders-payChose',\n        query: {totalPrice},\n        params: {id}\n      });\n    },\n    cancelOrderClick(id){\n      this.$alert('您确定取消该订单吗',['确定','取消']).then(()=>{\n         this._cancelOrder(this.judgeTypeUrl(id),id).then(()=>{\n           this.$emit('finishReload');\n         });\n      });\n    },\n    finishOrderClick(id){\n      this.$alert('您确定完结该订单吗',['确定','取消']).then(()=>{\n        this._finishOrder(this.judgeTypeUrl(id),id).then(()=>{\n          this.$emit('finishReload');\n        });\n      });\n    },\n    scrollTop(){\n      this.$refs.scroll.scrollTo(0, 0); //switch变化时，滚动条到顶部\n    },\n    searchMore(){\n      this.$emit('searchMore');\n    },\n    judgeType(id){\n      let type = id.slice(-3);\n      switch (type) {\n        case idType.laundry:\n          return 'laundryProduct';\n          break;\n        case idType.mall:\n          return 'mallProduct';\n          break;\n        case idType.furniture:\n          return 'furnitureProduct';\n          break;\n      }\n    },\n    imgUrl(url){\n      return url != null ? `${baseURL}/rwlmall/images/${url}` : '';\n    },\n    totalPrice(item){\n      let type = this.judgeType(item.id);\n      let items = item.items;\n      let sum = 0;\n      items.forEach((obj) => {\n        sum += obj.count * obj[type].price;\n      });\n      return sum / 100;\n    },\n    price(flag){\n      return `¥ ${flag / 100}`\n    },\n    standard(flag){\n      return flag ? `净含量：${flag}` : '';\n    },\n    checkProgress(item, totalPrice){\n      let type = this.judgeType(item.id);\n      this.$router.push({path: '/orders/details', query: {totalPrice, type}});\n      this.setSelectItem(item);\n    },\n    ...mapMutations({\n      setSelectItem: 'SET_SELECT_ITEM'\n\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/orders/orders-list/orders-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orders-list\"},[_c('scroll',{ref:\"scroll\",attrs:{\"data\":_vm.list,\"pullUp\":_vm.pullUp},on:{\"scrollToEnd\":_vm.searchMore}},[_c('ul',[_vm._l((_vm.list),function(item){return _c('li',{staticClass:\"item\"},[_vm._l((item.items),function(obj){return _c('div',{staticClass:\"item-info\"},[_c('img',{attrs:{\"src\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"price-container\"},[_c('span',{staticClass:\"name\",domProps:{\"textContent\":_vm._s(obj[_vm.judgeType(item.id)].name)}}),_vm._v(\" \"),_c('span',{staticClass:\"price\",domProps:{\"textContent\":_vm._s(_vm.price(obj[_vm.judgeType(item.id)].price))}})]),_vm._v(\" \"),_c('div',{staticClass:\"number-container\"},[_c('span',{staticClass:\"name\",domProps:{\"textContent\":_vm._s(_vm.standard(obj[_vm.judgeType(item.id)].standard))}}),_vm._v(\" \"),_c('span',{staticClass:\"number\"},[_vm._v(\"x\"+_vm._s(obj.count))])])])])}),_vm._v(\" \"),_c('p',{staticClass:\"price-sum\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"共\"+_vm._s(item.items.length)+\"件商品合计：\\n      \")]),_c('span',{staticClass:\"sum\"},[_vm._v(\"¥ \"+_vm._s(_vm.totalPrice(item)))])]),_vm._v(\" \"),_c('div',{staticClass:\"button-container\"},[(item.payStatus===0&&item.status===0)?_c('span',{staticClass:\"pay\",on:{\"click\":function($event){_vm.payOrderClick(item.id,_vm.totalPrice(item))}}},[_vm._v(\"付款\")]):_vm._e(),_vm._v(\" \"),(item.status===0)?_c('span',{staticClass:\"cancel\",on:{\"click\":function($event){_vm.cancelOrderClick(item.id)}}},[_vm._v(\"取消订单\")]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"check\",on:{\"click\":function($event){_vm.checkProgress(item,_vm.totalPrice(item))}}},[_vm._v(\"查看进度\")]),_vm._v(\" \"),(item.status===4)?_c('span',{staticClass:\"finish\",on:{\"click\":function($event){_vm.finishOrderClick(item.id)}}},[_vm._v(\"完结订单\")]):_vm._e()])],2)}),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasMore),expression:\"hasMore\"}]})],2)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4258ea70\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/orders/orders-list/orders-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4258ea70\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./orders-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./orders-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4258ea70\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../node_modules/vux-loader/src/template-loader.js!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./orders-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4258ea70\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/orders/orders-list/orders-list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}