{"version":3,"sources":["webpack:///./src/base/switches/switches.vue","webpack:///./src/base/switches/switches.vue?1873","webpack:///./src/base/switches/switches.vue?13ca","webpack:///./src/components/home/laundry/laundry.vue","webpack:///./src/components/home/laundry/laundry.vue?1886","webpack:///./src/components/home/laundry/laundry.vue?fea2"],"names":["switches","data","currentIndex","props","list","type","Array","default","computed","methods","selectClass","index","this","switchItem","$emit","switches_switches","render","_vm","_h","$createElement","_c","_self","staticClass","_l","item","on","click","$event","class","_v","className","domProps","textContent","_s","name","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","laundry","load","switchVal","switchList","components","Switches","Scroll","scroll_scroll","NoResult","no_result","mixins","mixin","created","$route","query","top","config","topLaundry","setShopList","topLaundryList","_findLaundryList","laundryList","extends_default","Object","vuex_esm","category","_this","api_shopList","then","ops","code","console","log","handleShopBar","shopList","_this2","$nextTick","bottom","length","shopBarHeight","$refs","scrollContainer","style","scroll","refresh","addShop","obj","util","setTopLaundryList","setLaundryList","price","imgUrl","url","bgImg","watch","newVal","scrollTo","laundry_laundry","touchmove","preventDefault","attrs","directives","rawName","value","expression","title","ref","stock","logo","_e"],"mappings":"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","file":"static/js/9.e08299542cb975714588.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data(){\n    return {\n      currentIndex: 0\n    }\n  },\n  props: {\n    list: {\n      type: Array,\n      default: []\n    }\n  },\n  computed: {},\n  methods: {\n    selectClass(index){\n      return this.currentIndex === index ? 'selected' : '';\n    },\n    switchItem(index){\n      this.currentIndex = index;\n      this.$emit('switchItem',index);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/base/switches/switches.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"switches\"},[_c('ul',{staticClass:\"switches-list\"},_vm._l((_vm.list),function(item,index){return _c('li',{staticClass:\"item\",on:{\"click\":function($event){_vm.switchItem(index)}}},[_c('div',{class:['line',_vm.selectClass(index)]}),_vm._v(\" \"),_c('div',{staticClass:\"icon-box\"},[_c('div',{class:['icon',item.className]})]),_vm._v(\" \"),_c('span',{staticClass:\"text\",domProps:{\"textContent\":_vm._s(item.name)}})])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b1a69ae0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/switches/switches.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b1a69ae0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./switches.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./switches.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b1a69ae0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./switches.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b1a69ae0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/switches/switches.vue\n// module id = null\n// module chunks = ","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mapGetters, mapMutations} from 'vuex';\nimport NoResult from 'base/no-result/no-result';\nimport Switches from 'base/switches/switches';\nimport Scroll from 'base/scroll/scroll';\nimport {shopBarMixin} from 'common/js/mixin'\nimport {isShopAdd} from 'common/js/util';\nimport {findLaundryList} from 'api/shopList'\nimport {ERR_OK,baseURL,payType} from 'api/config';\nexport default {\n  data(){\n    return {\n      load:true,\n      switchVal:0,\n      switchList: [\n        {name: '上衣类', className: 'clothes'},\n        {name: '裤裙类', className: 'culottes'},\n        {name: '皮草类', className: 'overcoat'},\n        {name: '装饰类', className: 'decorate'},\n        {name: '鞋包类', className: 'shoes'}\n      ],\n      list: []\n    }\n  },\n  components: {\n    Switches,\n    Scroll,\n    NoResult\n  },\n  mixins: [shopBarMixin],\n  created(){\n      if(this.$route.query.top){   //top值存在，则为高端洗护\n         this.type=payType.topLaundry;\n         this.setShopList(this.topLaundryList);\n        this._findLaundryList(this.switchVal);\n      }\n      else{\n        this.type=payType.laundry;\n        this.setShopList(this.laundryList);\n        this._findLaundryList(this.switchVal);\n      }\n  },\n  computed: {\n    ...mapGetters([\n      'shopList',\n      'shopBarHeight',\n      'laundryList',\n      'topLaundryList'\n    ])\n  },\n  methods: {\n    _findLaundryList(category){\n      findLaundryList(category,this.type).then((ops)=>{\n        if(ops.code===ERR_OK){\n            console.log(ops.data)\n          this.load=false;\n          this.list = ops.data;\n        }\n      });\n    },\n    handleShopBar(shopList){\n      this.$nextTick(() => {\n        let bottom = shopList.length > 0 ? `${this.shopBarHeight}px` : '';\n        this.$refs.scrollContainer.style.bottom = bottom;\n        this.$refs.scroll.refresh();\n      });\n    },\n    addShop(obj){   //后续可能还要保存ID，或者用id查询信息\n      let shopList=isShopAdd(this.shopList,obj);\n\n      this.setShopList(shopList);\n      if(this.$route.query.top){//top值存在，则为高端洗护\n          this.setTopLaundryList(shopList);\n          return ;\n      }\n      this.setLaundryList(shopList);\n    },\n    switchItem(index){\n        this.switchVal=index;\n      console.log('switch:' + index)\n    },\n    price(price){\n      return `¥ ${price/100}`\n    },\n    imgUrl(url){\n        return url!=null?`${baseURL}/rwlmall/images/${url}`:'';\n    },\n    bgImg(url){\n      return `background-image:url(${url})`\n    },\n    ...mapMutations({\n      setShopList: 'SET_SHOP_LIST',\n      setLaundryList:'SET_LAUNDRY_LIST',\n      setTopLaundryList:'SET_TOP_LAUNDRY_LIST'\n    })\n  },\n  watch:{\n    switchVal(newVal){\n      this._findLaundryList(newVal);\n      this.$refs.scroll.scrollTo(0, 0);  //switch变化时，滚动条到顶部\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/home/laundry/laundry.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"laundry\",on:{\"touchmove\":function($event){$event.preventDefault();}}},[_c('switches',{attrs:{\"list\":_vm.switchList},on:{\"switchItem\":_vm.switchItem}}),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.load),expression:\"load\"}]}),_vm._v(\" \"),_c('no-result',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.list.length>0&&!_vm.load),expression:\"!list.length>0&&!load\"}],staticClass:\"zh-center\",attrs:{\"title\":\"商品正在赶来的路上...\"}}),_vm._v(\" \"),_c('div',{ref:\"scrollContainer\",staticClass:\"scroll-container\"},[_c('scroll',{ref:\"scroll\",attrs:{\"data\":_vm.list}},[_c('div',{staticClass:\"shop-container\"},[_c('ul',{staticClass:\"shop-list\"},_vm._l((_vm.list),function(item){return (item.stock!==0)?_c('li',{staticClass:\"shop-item\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.imgUrl(item.logo)),expression:\"imgUrl(item.logo)\"}],staticClass:\"clothes-img\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\",domProps:{\"textContent\":_vm._s(item.name)}}),_vm._v(\" \"),_c('span',{staticClass:\"price\",domProps:{\"textContent\":_vm._s(_vm.price(item.price))}}),_vm._v(\" \"),_c('div',{staticClass:\"add-shop\",on:{\"click\":function($event){_vm.addShop(item)}}},[_c('i',{staticClass:\"iconfont icon-icon-test\"})])]):_vm._e()}))])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fc019014\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/home/laundry/laundry.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fc019014\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./laundry.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./laundry.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fc019014\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../node_modules/vux-loader/src/template-loader.js!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./laundry.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fc019014\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/home/laundry/laundry.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}