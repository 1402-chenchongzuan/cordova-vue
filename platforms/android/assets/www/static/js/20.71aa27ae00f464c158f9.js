webpackJsonp([20],{Kvsp:function(t,s){},vvrd:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=e("Dd8w"),a=e.n(n),i=e("NYxO"),d=e("Pl10"),o=e("qwAB"),c=e("grYb"),r=e("NS8l"),u=e("T452"),l={data:function(){return{fetchLoad:!1,addressList:[]}},components:{BButton:c.a,Scroll:o.a,Alert:d.a},created:function(){this._findAddress()},methods:a()({choseAddress:function(t){this.$route.query.pay&&(this.setCurrentAddress(t),this.$router.back())},selectEdit:function(t){this.$router.push({path:"/my/address/add",query:{id:t}})},defaultAddress:function(t){var s=this;this.$loading.show("正在设置"),Object(r.f)(t).then(function(){s._findAddress(),s.$loading.hide(),s._getDefaultAddress()})},defaultIcon:function(t){return u.a!==t?"icon-unselected":"icon-xuanzhong"},defaultStyle:function(t){return"color:"+(u.a!==t?"#C7C7C7":"")},_getDefaultAddress:function(){var t=this;Object(r.c)().then(function(s){s.code===u.b&&t.setCurrentAddress(s.data)})},_findAddress:function(){var t=this;Object(r.a)().then(function(s){s.code===u.b&&(t.addressList=s.data),t.fetchLoad=!0}).catch(function(){t.fetchLoad=!0})},removeAddress:function(t){var s=this;this.$alert("您确定删除此条地址信息吗？",["确定","取消"]).then(function(){s.$loading.show(),Object(r.d)(t).then(function(t){t.code===u.b&&(s._findAddress(),s.$loading.hide(),s.$msg.setShow("删除成功"))})})},addAddress:function(){this.$router.push("/my/address/add")}},Object(i.c)({setCurrentAddress:"SET_CURRENT_ADDRESS"})),watch:{$route:function(t,s){"/my/address/add"===s.path&&this._findAddress()}}},f={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"address"},[t.fetchLoad?e("div",[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.addressList.length>0,expression:"!addressList.length>0"}],staticClass:"no-result"},[t._v("没有可用地址，点击下方按钮添加")]),t._v(" "),e("div",{staticClass:"scroll-container"},[e("scroll",[e("ul",{staticClass:"result"},t._l(t.addressList,function(s){return e("li",{key:s.id,staticClass:"result-item",on:{click:function(e){t.choseAddress(s)}}},[e("div",{staticClass:"wrapper"},[e("span",{directives:[{name:"show",rawName:"v-show",value:0===s.status,expression:"item.status===0"}],staticClass:"default"},[t._v("默认")]),t._v(" "),e("div",{staticClass:"info-box"},[e("span",{staticClass:"name",domProps:{textContent:t._s(s.consignee)}}),t._v(" "),e("span",{staticClass:"phone",domProps:{textContent:t._s(s.phone)}})]),t._v(" "),e("span",{staticClass:"address-text",domProps:{textContent:t._s(s.address)}}),t._v(" "),e("div",{staticClass:"set-container"},[e("div",{staticClass:"left-box h100",style:t.defaultStyle(s.status),on:{click:[function(t){t.stopPropagation()},function(e){t.defaultAddress(s.id)}]}},[e("i",{class:["icon","iconfont",t.defaultIcon(s.status)]}),t._v(" "),e("span",{staticClass:"text"},[t._v("设为默认地址")])]),t._v(" "),e("div",{staticClass:"right-box"},[e("div",{staticClass:"edit-box h100",on:{click:[function(e){t.selectEdit(s.id)},function(t){t.stopPropagation()}]}},[e("i",{staticClass:"icon-edit iconfont icon-bianji1"}),t._v(" "),e("span",{staticClass:"edit-text"},[t._v("编辑")])]),t._v(" "),e("div",{staticClass:"h100",on:{click:[function(e){t.removeAddress(s.id)},function(t){t.stopPropagation()}]}},[e("i",{staticClass:"icon-remove iconfont icon-105"}),t._v(" "),e("span",{staticClass:"remove-text"},[t._v("删除")])])])])])])}))])],1),t._v(" "),e("b-button",{attrs:{content:"＋新增地址"},on:{buttonClick:t.addAddress}}),t._v(" "),e("router-view")],1):e("loading")],1)},staticRenderFns:[]};var v=e("VU/8")(l,f,!1,function(t){e("Kvsp")},"data-v-6ac45da7",null);s.default=v.exports}});
//# sourceMappingURL=20.71aa27ae00f464c158f9.js.map