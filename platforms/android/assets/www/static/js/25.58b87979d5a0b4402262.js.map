{"version":3,"sources":["webpack:///./src/components/home/m-header/m-header.vue","webpack:///./src/components/home/m-header/m-header.vue?57a9","webpack:///./src/components/home/m-header/m-header.vue?cca4"],"names":["m_header","data","timer","content","load","showFlag","screen","title","firstLoad","position","animation","components","Loading","Alert","alert_alert","computed","phone","positionText","this","move","created","getLocation","methods","onComplete","location","addressComponent","province","city","clearTimeout","onError","error","$refs","alert","show","_this","AMap","Map","plugin","setTimeout","geolocation","Geolocation","enableHighAccuracy","timeout","maximumAge","convert","getCurrentPosition","event","addListener","moveClick","m_header_m_header","render","_vm","_h","$createElement","_c","_self","staticClass","class","on","click","_v","domProps","textContent","_s","attrs","href","directives","name","rawName","value","expression","ref","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2IAyBAA,GACEC,KADa,WAEX,OACEC,MAAO,GACPC,QAAS,OACTC,MACEC,UAAU,EACVC,QAAQ,EACRC,MAAO,SAETC,WAAW,EACXC,SAAU,GACVC,WAAW,IAGfC,YACEC,kBAAA,EACAC,MAAAC,EAAA,GAEFC,UACGC,MADO,WAEN,iBAEFC,aAJQ,WAKN,OAAOC,KAAKT,SAAWS,KAAKT,SAAW,QAEzCU,KAPQ,WAQN,OAAOD,KAAKR,UAAY,OAAS,KAGrCU,QA9Ba,WA+BXF,KAAKG,eAEPC,SACEC,WADO,SACItB,GACT,IAAIuB,EAAWvB,EAAKwB,iBACpBP,KAAKT,SAAL,GAAmBe,EAASE,SAAWF,EAASG,KAChDT,KAAKd,KAAKC,UAAW,EACrBuB,aAAaV,KAAKhB,QAEpB2B,QAPO,SAOCC,GACNZ,KAAKd,KAAKC,UAAW,EACrBa,KAAKa,MAAMC,MAAMC,OACjBL,aAAaV,KAAKhB,QAEpBmB,YAZO,WAYM,IAAAa,EAAAhB,KACE,IAAIiB,KAAKC,IAAI,IACnBC,OAAO,mBAAoB,WAChCH,EAAKhC,MAAMoC,WAAW,WACpBJ,EAAKH,MAAMC,MAAMC,OACjBC,EAAK9B,KAAKC,UAAW,GACpB,MACH6B,EAAK9B,KAAKC,UAAW6B,EAAK1B,UAC1B0B,EAAK1B,WAAY,EACjB,IAAI+B,EAAc,IAAIJ,KAAKK,aACzBC,oBAAoB,EACpBC,QAAS,IACTC,WAAY,EACZC,SAAS,IAEXL,EAAYM,qBACZV,KAAKW,MAAMC,YAAYR,EAAa,WAAYL,EAAKX,YACrDY,KAAKW,MAAMC,YAAYR,EAAa,QAASL,EAAKL,YAGtDmB,UAhCO,WAiCL9B,KAAKR,WAAaQ,KAAKR,aCxF7BuC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAjC,KAAakC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,qBAA+BF,EAAA,OAAYG,OAAAN,EAAAhC,KAAA,QAAAuC,IAA4BC,MAAAR,EAAAH,aAAuBG,EAAAS,GAAA,KAAAN,EAAA,OAAwBE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,gBAAAE,IAAgCC,MAAAR,EAAA9B,eAAyBiC,EAAA,KAAUE,YAAA,+BAAyCL,EAAAS,GAAA,KAAAN,EAAA,QAAyBE,YAAA,OAAAK,UAA6BC,YAAAX,EAAAY,GAAAZ,EAAAlC,mBAAwCkC,EAAAS,GAAA,KAAAN,EAAA,KAAwBE,YAAA,eAAAQ,OAAkCC,KAAAd,EAAAnC,SAAkBsC,EAAA,KAAUE,YAAA,+BAAyCL,EAAAS,GAAA,KAAAN,EAAA,QAAyBE,YAAA,SAAmBL,EAAAS,GAAA,gBAAAT,EAAAS,GAAA,KAAAN,EAAA,WAAmDY,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAAlB,EAAA/C,KAAA,SAAAkE,WAAA,kBAAkFN,OAAS1D,OAAA6C,EAAA/C,KAAAE,OAAAC,MAAA4C,EAAA/C,KAAAG,SAAiD4C,EAAAS,GAAA,KAAAN,EAAA,SAA0BiB,IAAA,QAAAP,OAAmB7D,QAAAgD,EAAAhD,YAAuB,IAE35BqE,oBCCjB,IAaAC,EAbAC,EAAA,OAaAC,CACA3E,EACAiD,GATA,EATA,SAAA2B,GACAF,EAAA,SAYA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/25.58b87979d5a0b4402262.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Alert from 'base/alert/alert';\nimport Loading from 'base/loading/loading';\nexport default {\n  data(){\n    return {\n      timer: '',\n      content: '定位失败',\n      load: {\n        showFlag: false,\n        screen: true,\n        title: '正在定位中'\n      },\n      firstLoad: true,\n      position: '',\n      animation: true\n    }\n  },\n  components: {\n    Loading,\n    Alert\n  },\n  computed: {\n     phone(){\n      return `tel:${120}`;\n     },\n    positionText(){\n      return this.position ? this.position : '手动定位';\n    },\n    move(){\n      return this.animation ? 'move' : '';\n    }\n  },\n  created(){\n    this.getLocation();\n  },\n  methods: {\n    onComplete(data){\n      let location = data.addressComponent;\n      this.position = `${location.province}${location.city}`;\n      this.load.showFlag = false;\n      clearTimeout(this.timer);\n    },\n    onError(error){\n      this.load.showFlag = false;\n      this.$refs.alert.show();\n      clearTimeout(this.timer);\n    },\n    getLocation(){\n      let mapObj = new AMap.Map('');\n      mapObj.plugin('AMap.Geolocation', () => {\n        this.timer=setTimeout(() => {          //网络异常时，无法走通，关闭定位\n          this.$refs.alert.show();\n          this.load.showFlag = false;\n        }, 15000);\n        this.load.showFlag = this.firstLoad ? false : true;  //第一次加载不显示加载动画\n        this.firstLoad = false;\n        let geolocation = new AMap.Geolocation({\n          enableHighAccuracy: true,//是否使用高精度定位，默认:true\n          timeout: 10000,          //超过10秒后停止定位，默认：无穷大\n          maximumAge: 0,           //定位结果缓存0毫秒，默认：0\n          convert: true,           //自动偏移坐标，偏移后的坐标为高德坐标，默认：true\n        });\n        geolocation.getCurrentPosition();\n        AMap.event.addListener(geolocation, 'complete', this.onComplete);//返回定位信息\n        AMap.event.addListener(geolocation, 'error', this.onError);      //返回定位出错信息\n      });\n    },\n    moveClick(){\n      this.animation = !this.animation;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/home/m-header/m-header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-header\"},[_c('div',{staticClass:\"header-container\"},[_c('div',{class:[_vm.move,'logo'],on:{\"click\":_vm.moveClick}}),_vm._v(\" \"),_c('div',{staticClass:\"right-box\"},[_c('div',{staticClass:\"position item\",on:{\"click\":_vm.getLocation}},[_c('i',{staticClass:\"icon iconfont icon-dingwei\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\",domProps:{\"textContent\":_vm._s(_vm.positionText)}})]),_vm._v(\" \"),_c('a',{staticClass:\"service item\",attrs:{\"href\":_vm.phone}},[_c('i',{staticClass:\"icon iconfont icon-dianhua\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"联系客服\")])])])]),_vm._v(\" \"),_c('Loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.load.showFlag),expression:\"load.showFlag\"}],attrs:{\"screen\":_vm.load.screen,\"title\":_vm.load.title}}),_vm._v(\" \"),_c('alert',{ref:\"alert\",attrs:{\"content\":_vm.content}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-af5d8bf6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/home/m-header/m-header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-af5d8bf6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./m-header.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./m-header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-af5d8bf6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../node_modules/vux-loader/src/template-loader.js!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./m-header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-af5d8bf6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/home/m-header/m-header.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}