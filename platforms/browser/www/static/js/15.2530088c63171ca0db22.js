webpackJsonp([15],{Tr5S:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("tRvw"),n=s("qwAB"),i=s("vMJZ"),o=s("T452"),c={data:function(){return{balance:"",consumeList:[],load:{isBalance:!1,isConsumeList:!1}}},components:{Scroll:n.a,NoResult:a.a},activated:function(){this._getBalance(),this._getUserConsumeList()},filters:{numFormat:function(t){return(t/100).toFixed(2)}},methods:{timeFormat:function(t){var e=new Date(Number(t));e.getFullYear();return e.getMonth()+1+"月"+this.timeAddZero(e.getDate())+"日 "+this.timeAddZero(e.getHours())+":"+this.timeAddZero(e.getMinutes())},timeAddZero:function(t){return t<10?"0"+t:t},_getUserConsumeList:function(){var t=this;Object(i.b)().then(function(e){e.code===o.b&&(t.consumeList=e.data,t.load.isConsumeList=!0)}).catch(function(){t.load.isConsumeList=!0})},_getBalance:function(){var t=this;Object(i.c)().then(function(e){e.code===o.b&&(t.balance=e.data.balance,t.load.isBalance=!0)}).catch(function(){t.load.isBalance=!0})},money:function(t,e){return("充值"===e?"+":"-")+t/100},toPay:function(){this.$router.push("/recharge/"+this.balance)}},watch:{$route:function(t,e){"rechargePay"===e.name&&(this._getBalance(),this._getUserConsumeList())}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recharge",on:{touchmove:function(t){t.preventDefault()}}},[s("loading",{directives:[{name:"show",rawName:"v-show",value:!t.load.isBalance&&!t.load.isConsumeList,expression:"!load.isBalance&&!load.isConsumeList"}],attrs:{screen:!0}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.load.isBalance&&t.load.isConsumeList,expression:"load.isBalance&&load.isConsumeList"}],staticClass:"wrapper"},[s("div",{staticClass:"balance-container"},[s("span",{staticClass:"text"},[t._v("当前余额（元）")]),t._v(" "),s("span",{staticClass:"val"},[t._v(t._s(t._f("numFormat")(t.balance)))]),t._v(" "),s("span",{staticClass:"button",on:{click:t.toPay}},[t._v("我要充值")])]),t._v(" "),s("span",{staticClass:"title"},[t._v("交易记录")]),t._v(" "),s("div",{staticClass:"scroll-container"},[t.consumeList.length>0?s("scroll",{attrs:{data:t.consumeList}},[s("ul",{staticClass:"consume-list"},t._l(t.consumeList,function(e){return s("li",{staticClass:"consume-item"},[s("div",{staticClass:"info-box"},[s("span",{staticClass:"name",domProps:{textContent:t._s(e.category)}}),t._v(" "),s("span",{staticClass:"time"},[t._v(t._s(t.timeFormat(e.time)))])]),t._v(" "),s("span",{staticClass:"num",domProps:{textContent:t._s(t.money(e.money,e.category))}})])}))]):s("no-result",{attrs:{title:"暂无交易记录"}})],1)]),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var l=s("VU/8")(c,r,!1,function(t){s("dHHw")},"data-v-06748072",null);e.default=l.exports},dHHw:function(t,e){}});
//# sourceMappingURL=15.2530088c63171ca0db22.js.map