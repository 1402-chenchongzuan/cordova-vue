webpackJsonp([29],{"0oMA":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("Dd8w"),o=s.n(n),a=s("NYxO"),i=s("Pl10"),r=s("TCoP"),c=s("grYb"),u=s("qC9r"),l={data:function(){return{showFlag:!1,number:1,alert:{state:!0,text:"您确定取消购买该商品？",cancelBtnText:"取消"}}},components:{Alert:i.a,BButton:c.a,Number:r.a},props:{shop:{type:Object,default:{}}},methods:o()({onPayClick:function(){if(this.number>this.shop.stock)this.$refs.alert.show();else{this.showFlag=!1;var t=Object(u.a)(this.shop);t.number=this.number,this.setShopList([t]);var e="furnishing-commodity"===this.$route.name?"furnishing":"mall";this.$router.push({path:"/home/pay/single",query:{category:e}})}},numberChange:function(t){this.number=t||1,0===t&&(this.showFlag=!1)},show:function(){this.showFlag=!0},hide:function(){this.showFlag=!1},price:function(t){return"¥"+t},stock:function(t){return"剩余"+t+"件"}},Object(a.c)({setShopList:"SET_SHOP_LIST"}))},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"cover"}},[t.showFlag?s("div",{staticClass:"commodity-buy",on:{touchmove:function(t){t.preventDefault()},click:t.hide}},[s("div",{staticClass:"buy-container",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"buy-info"},[s("img",{attrs:{src:""}}),t._v(" "),s("div",{staticClass:"text-box"},[s("span",{staticClass:"name",domProps:{textContent:t._s(t.shop.name)}}),t._v(" "),s("span",{staticClass:"price",domProps:{textContent:t._s(t.price(t.shop.price))}})]),t._v(" "),s("i",{staticClass:"iconfont icon-guanbi close",on:{click:t.hide}})]),t._v(" "),s("div",{staticClass:"buy-number"},[s("div",{staticClass:"stock-box"},[s("span",[t._v("库存数量：")]),t._v(" "),s("span",{domProps:{textContent:t._s(t.stock(t.shop.stock))}})]),t._v(" "),s("number",{staticClass:"number",attrs:{number:t.number,alertShow:t.alert.state,alertText:t.alert.text,cancelBtnText:t.alert.cancelBtnText},on:{numberChange:t.numberChange}})],1)])]),t._v(" "),s("B-button",{attrs:{content:"去支付",bgColor:"#FE4543"},on:{buttonClick:t.onPayClick}}),t._v(" "),s("alert",{ref:"alert",attrs:{content:"库存不足，请重新选择购买数量"}})],1):t._e()])},staticRenderFns:[]};var p=s("VU/8")(l,h,!1,function(t){s("h3c+")},"data-v-120c3202",null);e.default=p.exports},"h3c+":function(t,e){}});
//# sourceMappingURL=29.ccca77ca8ab7a07a4123.js.map